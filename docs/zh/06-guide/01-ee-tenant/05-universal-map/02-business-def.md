---
title: 业务定义
permalink: /guide/ee-tenant/universal-map/business-def/
---

# 业务定义

业务定义包含业务名称、数据表的定义，也包含业务中服务组、服务及路径的定义，下面将详细介绍如何定义。

![00-术语说明](https://yunshan-guangzhou.oss-cn-beijing.aliyuncs.com/pub/pic/202310196530f64f1d682.jpg)

业务可由若干`服务`及`路径`组成，`服务`可完全通过用户自定义，并加入到`自定义服务组`；也可仅设定服务组，在服务组中自动生成`服务`，此时对应`自动分组服务组`。`路径`通过指定服务的访问关系而来，以下对着上图说明：
- 业务：手机银行业务
- 服务：
  - 未加入任何服务，独立的服务：前台负载服务
  - 加入自定义服务组，前台服务组：运营前台服务、金融前台服务
  - 通过自动分组服务组生成的服务，中台服务组：权益中心服务、搜索中心服务、平均中心服务、支付中心服务
- 路径：
  - 自定义：前台负载服务 -> 运营前台服务；前台负载服务 -> 金融前台服务；运营前台服务 -> 中台服务组（自动分组）；金融前台服务 -> 中台服务组（自动分组）
  - 自动生成：中台服务组（自动分组）内部的服务之间的访问关系

## 业务列表

![01-业务列表](https://yunshan-guangzhou.oss-cn-beijing.aliyuncs.com/pub/pic/20230922650d29f899d76.png)

- **① 新建业务**：支持新建业务。使用详细说明，请参考【新建业务】章节描述
- **② 名称**：点击可以进入`业务详情页面`
- **③ 标星**：点击可以`标星`或`取消标星`，列表将按默认标星 + 名字字典序降序排列
- **④ 服务拓扑**：点击后跳转到`服务拓扑`页面，以瀑布拓扑的形式查看当前业务
- **⑤ 服务列表**：点击后跳转到`服务列表`页面
- **⑥ 编辑**：编辑业务
- **⑦ 删除**：删除业务

### 新建业务

![02-新建业务](https://yunshan-guangzhou.oss-cn-beijing.aliyuncs.com/pub/pic/20230922650d29fa54caf.png)

- 名称：必填，业务名称
- 数据表：必填，业务数据来源的数据表，如需查看业务的网络指标，则可选择`网络-路径-指标数据（xx）`，如需查看业务的应用指标，则可选择`应用-路径-指标数据（xx）`

### 业务详情页

`新建业务`及点击`业务列表-名称`都可以进入业务详情页，在此业务可定义当前业务的`服务`、`服务组`、`路径`。

- 服务组
- 路径

#### 服务

![03-服务](https://yunshan-guangzhou.oss-cn-beijing.aliyuncs.com/pub/pic/20230922650d29f2327f0.png)

每一行代表业务中的一个服务，例如 CLB/APIGW/MySQL/业务服务等都可以为一个独立的服务

![04-新建服务](https://yunshan-guangzhou.oss-cn-beijing.aliyuncs.com/pub/pic/20230922650d29f30aa57.png)

- 名称：必填，服务名称同一个业务中不可重名
- 图例：`服务拓扑`及`服务列表`显示的服务ICON，目前可选项为`资源-图例`
- 过滤条件：根据过滤条件定义服务数据
  - 方向：分别定义服务作为不同角色的过滤条件
    - 双方向：为即作为客户端又作为服务端的过滤条件
    - 服务端：仅作为服务端的过滤条件
    - 客户端：仅作为客户端的过滤条件
  - 过滤条件的操作，请参考[查询](../query/overview/)
    - 分组：默认使用的`*`
- 服务组：支持加入`自定义类型的服务组`，一个`服务`仅能加入一个`服务组`，对于`服务组`的定义，参考后续章节
- 指标阈值：可调整每个服务的指标阈值
  - 默认将指标收起来，点击展开按钮再展开和编辑
  - 指标量超过阈值时，对应的`服务`显示会标红

#### 服务组

![05-服务组](https://yunshan-guangzhou.oss-cn-beijing.aliyuncs.com/pub/pic/20230922650d29f49d073.png)

每一行代表业务中的一组服务，例如前台服务组，可以包含APP接入服务、Web接入服务。DeepFlow 服务组即可用户自定义，逐一添加自定义的服务，也可以将自动识别的一组服务组成服务组。

![06-新建服务组](https://yunshan-guangzhou.oss-cn-beijing.aliyuncs.com/pub/pic/20230922650d29f57d791.png)

- 名称：必填，服务组名称同一个业务中不可重名
- 类型：分为`自动分组`及`自定义`两种类型
  - 自定义：用户自定义，可自主选择`服务`加入
  - 自动分组：根据`过滤条件`按`auto_service`自动识别的一组服务所属的服务组
    - `方向`、`过滤条件`使用说明，参考【服务】章节
- 指标阈值

#### 路径

![07-路径](https://yunshan-guangzhou.oss-cn-beijing.aliyuncs.com/pub/pic/20230922650d29f3e2852.png)

每一行代表`服务`/`服务组`访问`服务`/`服务组`的一条路径。例如`客户端=服务A，服务端=服务B`表达`服务A`根据`客户端`的`过滤条件`访问`服务B`根据`服务端`的`过滤条件`查询出来的路径数据。

![08-新建路径](https://yunshan-guangzhou.oss-cn-beijing.aliyuncs.com/pub/pic/20230922650d29f6e5248.png)

- 名称：必填，路径名称
- 客户端：单选，候选项为用户定义的`服务`或`自动分组类型的服务组`
- 服务端：单选，候选项为用户定义的`服务`或`自动分组类型的服务组`
