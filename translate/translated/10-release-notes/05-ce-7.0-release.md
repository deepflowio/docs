---
title: v7.0 CE Release Notes
permalink: /release-notes/release-7.0-ce
---

> This document was translated by ChatGPT

# v7.0.9 [2025/06/11]

## Stable Feature

- AutoTracing
  - Support collecting Unix Socket call logs (`l7_flow_log`), and enable automatic tracing between TCP/UDP Socket call logs and Unix Socket call logs.
  - Support parsing SRV type DNS call logs, [Documentation](https://en.wikipedia.org/wiki/SRV_record).
  - Optimize parsing of unary type gRPC calls, [Documentation](../configuration/agent/#processors.request_log.application_protocol_inference.protocol_special_config.grpc.streaming_data_enabled).
- AutoTagging
  - Support collecting change events of K8s resource definitions and ConfigMaps.
- Server
  - Support MCP Server.
- Agent
  - When the Agent reaches the traffic rate limit, support choosing between `drop` or `wait` strategies. The default behavior is drop, but it can be configured to wait to improve data sending success rate, [Documentation](../configuration/agent/#global.communication.ingester_traffic_overflow_action).
  - Added a circuit breaker mechanism for free disk space in the Agent runtime environment, [Documentation](../configuration/agent/#global.circuit_breakers.free_disk).
  - Support disabling Agent's use of Swap memory, [Documentation](../configuration/agent/#global.tunning.swap_disabled).
  - Adapt to K8s CNI with identical virtual NIC MAC addresses on the same host.
  - Optimization: Reduce the work done by the Agent when it is disabled.

# v7.0.8 [2025/05/16]

## Stable Feature

- AutoTracing
  - Support parsing truncated MySQL protocol content.
- Agent
  - Support compressing and sending call logs and flow logs. In test environments, call log compression ratio can reach 8:1, [Documentation](../configuration/agent/#outputs.compression.l7_flow_log).

# v7.0.7 [2025/04/28]

## Stable Feature

- AutoTracing
  - Enrich eBPF hook points for collecting file read/write events (`io_event`) to improve adaptability.
- AutoTagging
  - Optimize the meaning of the `process_kname` field in call logs and file read/write event data, changing from `kernel thread name` to `system process` name for better readability.
  - Aggregate processes with the same `cmdline` within the same cloud host or the same K8s workload into a unique gprocess to reduce redundant process information.
  - Optimize default values of the process matcher, [Documentation](../configuration/agent/#inputs.proc.process_matcher).
    - By default, ignore collection of process information for `sleep/sh/bash/pause/runc`.
    - By default, collect process information and OnCPU profiling data for `Java/Python`, and automatically record the gprocess name as the jar/py file name to avoid all being displayed as java/python.
    - By default, collect process information and OnCPU profiling data for `deepflow-*`.
    - By default, collect process information inside containers.
  - Optimize the meaning of the `response_status` field in call logs (`l7_flow_log`).
    - **Normal**: Response code is normal.
    - **Client Error**: Response code indicates a client-side error, e.g., HTTP 4XX.
    - **Server Error**: Response code indicates a server-side error, e.g., HTTP 5XX.
    - **Timeout**: If no response is collected within a certain time, the request will be marked as timed out.
      - Agent `Application session merge timeout` configuration: DNS and TLS default 15s, other protocols default 120s, [Documentation](../configuration/agent/#processors.request_log.timeouts.session_aggregate).
    - **Unknown**: When concurrent requests exceed the collector's cache capacity, the oldest requests will be marked as unknown.
      - Agent `Maximum session aggregation entries` configuration: Default cache of 64K requests, [Documentation](../configuration/agent/#processors.request_log.tunning.session_aggregate_max_entries).
    - **Parse Failed**: Response was collected but could not parse the response code due to truncation or compression.
      - Agent `Payload truncation` configuration: By default, parse the first 1024 bytes of the Payload, [Documentation](../configuration/agent/#processors.request_log.tunning.payload_truncation).
- Agent
  - Optimize memory usage of the cache for application performance metrics in the Agent by promptly clearing expired LRU entries, reducing overall memory consumption by **43%** in test environments.
  - Aggregate and store flow logs (`l4_flow_log`) generated by LB health checks, reducing flow log storage overhead by nearly **50%** in some production environments, [Documentation](../configuration/agent/#outputs.flow_log.aggregators.aggregate_health_check_l4_flow_log).
  - Optimize the resource overhead protection mechanism when application protocol recognition fails to avoid mistakenly disabling application protocol parsing, [Documentation](../configuration/agent/#processors.request_log.application_protocol_inference.inference_max_retries).

# v7.0.6 [2025/04/15]

## Stable Feature

- AutoTracing
  - Support parsing compressed MySQL calls, [Documentation](../configuration/agent/#processors.request_log.application_protocol_inference.protocol_special_config.mysql.decompress_payload).
  - Support parsing MySQL Login Response statements.
  - Support parsing multiple DNS requests in TCP Payload.
- Agent
  - Improve the merge success rate of call logs on the agent side, significantly reducing the proportion of call logs with `response_status = Unknown`. In test environments, a 50% reduction in unknown proportion is observed.
  - Limit the bandwidth consumption of data sent by the agent, with a default allowance of 100Mbps, [Documentation](../configuration/agent/#global.communication.max_throughput_to_ingester).

# v7.0.5 [2025/04/02]

## Stable Feature

- AutoTracing
  - Support collection and tracing of RocketMQ protocol, [Documentation](../features/l7-protocols/mq/#rocketmq).
  - Support collection and tracing of Ping protocol, [Documentation](../features/l7-protocols/network/#ping).
  - Support collection and tracing of Dubbo protocol when using Fastjson serialization, [Documentation](../features/l7-protocols/rpc/#dubbo).

# v7.0.4 [2025/03/18]

## Stable Feature

- Agent
  - Support collecting traffic from Pod internal NICs, applicable to scenarios where Pod NIC traffic cannot be directly collected under the Root network namespace (e.g., [Huawei Cloud CCE Turbo CNI](https://support.huaweicloud.com/usermanual-cce/cce_10_0284.html)), [Documentation](../configuration/agent/#inputs.cbpf.af_packet.inner_interface_capture_enabled).

# v7.0.3 [2025/03/05]

N/A

# v7.0.2 [2025/02/11]

## Stable Feature

- AutoMetrics
  - Add timeout ratio metric (`timeout_ratio`) to application performance metrics (`application`, `application_map`).
- Server
  - Support terminating remote upgrades of collectors and optimize CPU resource usage of the Server during upgrades.
- Agent
  - Support limiting the number of sockets used by deepflow-agent, [Documentation](../configuration/agent/#global.limits.max_sockets).

# v7.0.1 [2025/01/16]

## Stable Feature

- AutoTracing
  - For non-TCP traffic in network flow logs (`l4_flow_log`), change the end status (`close_type`) from timeout to normal end (1).

# v7.0.0 [2025/01/02]

## Stable Feature

- AutoTracing
  - Support collection and tracing of Tars protocol, [Documentation](../features/l7-protocols/rpc/#tars).